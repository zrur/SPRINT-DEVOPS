<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Login · Mottu Tracking</title>
    <style>
        :root{--c1:#0ea5e9;--bg:#0b1020;--card:#11182a;--txt:#e5e7eb;--muted:#94a3b8}
        *{box-sizing:border-box}
        body{margin:0;background:var(--bg);color:var(--txt);font-family:system-ui,Arial}
        .container{max-width:1100px;margin:auto;padding:16px}
        .card{background:var(--card);border-radius:16px;padding:28px;margin:40px auto;max-width:480px;box-shadow:0 8px 30px rgba(0,0,0,.25)}
        h1{text-align:center;margin-top:24px}
        label{display:block;margin:10px 0 4px}
        input{width:100%;padding:12px 10px;border-radius:10px;border:1px solid #334155;background:#0e1627;color:#e5e7eb}
        .btn{width:100%;margin-top:16px;background:var(--c1);border:0;border-radius:12px;color:#001827;padding:12px 14px;font-weight:700;cursor:pointer}
        .msg{margin-top:12px;text-align:center;font-size:.95rem}
        .err{color:#fca5a5}
        .ok{color:#86efac}
        .muted{color:var(--muted)}
        footer{opacity:.75;padding:24px 0;text-align:center}
        .link-btn{display:block;margin-top:12px;text-align:center}
    </style>
</head>
<body>
<h1>Mottu – Tracking</h1>
<main class="container">
    <div class="card">
        <h2 style="margin:0 0 12px">Entrar</h2>

        <!-- Importante: method POST e action /login -->
        <form th:action="@{/login}" method="post">
            <label>Usuário</label>
            <input type="text" name="username" placeholder="admin@ex.com" required autocomplete="username"/>

            <label>Senha</label>
            <input type="password" name="password" placeholder="••••••" required autocomplete="current-password"/>

            <button class="btn" type="submit">Acessar</button>
        </form>

        <div class="link-btn">
            <form th:action="@{/register}" method="get">
                <button class="btn" type="submit">Cadastrar</button>
            </form>
        </div>

        <!-- Mensagens -->
        <div class="msg err" th:if="${param.error}">Usuário ou senha inválidos. Tente novamente.</div>
        <div class="msg ok"  th:if="${msgOk}" th:text="${msgOk}"></div>
        <div class="msg err" th:if="${msgErr}" th:text="${msgErr}"></div>
        <div class="msg ok"  th:if="${param.logout}">Sessão encerrada com sucesso.</div>

        <div class="msg muted">Dica: admin@ex.com / fiap25</div>
    </div>
</main>
<footer class="container"><small>&copy; 2025 Mottu · FIAP · Sprint Java Advanced</small></footer>
</body>
</html>
